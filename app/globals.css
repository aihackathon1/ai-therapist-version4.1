@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap');
@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html {
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', Arial, 'Noto Sans', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', sans-serif;
    scroll-behavior: smooth;
  }
  
  body {
    @apply min-h-screen text-text-dark antialiased bg-background;
  }
}

@layer components {
  :root {
    --color-text-dark: #1a1a1a;
    --color-secondary: #6b7280;
    --color-accent: #4f46e5;
    --glass-bg: rgba(255,255,255,1);
    --glass-border: #e5e7eb;
    --card-bg: #ffffff;
    --shadow-soft: 0 1px 2px rgba(0,0,0,0.06);
    --radius-xl: 1.25rem;
    --transition-fast: all 0.3s ease;
  }

  .dark {
    --color-text-dark: #e5e7eb;
    --color-secondary: #9ca3af;
    --card-bg: rgba(17,25,40,0.6);
    --glass-bg: rgba(17,25,40,0.55);
    --glass-border: rgba(255,255,255,0.12);
    --shadow-soft: 0 10px 30px rgba(0,0,0,0.4);
  }

  .btn-primary { @apply bg-[color:var(--color-accent)] text-white px-6 py-2 rounded-md font-medium transition-all duration-200 hover:bg-indigo-700 shadow-sm hover:shadow-lg; }
  .btn-secondary { @apply bg-transparent text-text-dark px-6 py-2 rounded-md font-medium border border-[color:var(--glass-border)] hover:bg-white shadow-sm hover:shadow-lg; }
  .btn-dashboard { @apply bg-[color:var(--color-accent)] text-white px-6 py-2 rounded-md font-medium hover:bg-indigo-700 shadow-sm hover:shadow-lg; }
  
  .card { @apply rounded-xl p-6 transition-all duration-200 shadow bg-white border border-[color:var(--glass-border)] hover:shadow-lg; }
  
  .gradient-text { @apply text-[color:var(--color-accent)]; }

  /* Glassmorphism utility */
  .glass { background: #ffffff; border: 1px solid var(--glass-border); border-radius: var(--radius-xl); box-shadow: var(--shadow-soft); }

  /* Smooth transitions */
  .transition-base { transition: var(--transition-fast); }

  /* Reveal on scroll */
  .reveal { opacity: 0; transform: translateY(12px); }
  .reveal.revealed { opacity: 1; transform: translateY(0); transition: 600ms ease; }

  /* Chat bubbles */
  .bubble-bot { @apply bg-gray-50 border border-[color:var(--glass-border)]; }
  .bubble-user { @apply bg-[color:var(--color-accent)] text-white; }

  /* Skeleton loading */
  .skeleton { @apply animate-pulse bg-gray-100 rounded-md; }
}

@layer utilities {
  /* Subtle grid background */
  .bg-grid {
    background-image:
      linear-gradient(to right, rgba(0,0,0,0.02) 1px, transparent 1px),
      linear-gradient(to bottom, rgba(0,0,0,0.02) 1px, transparent 1px);
    background-size: 24px 24px;
  }

  /* Gradient overlay utility */
  .gradient-overlay {
    background:
      linear-gradient(135deg, rgba(99,102,241,0.03) 0%, rgba(168,85,247,0.03) 100%),
      linear-gradient(180deg, rgba(255,255,255,0.22) 0%, rgba(245,245,245,0.05) 100%);
  }

  /* Glow utility for containers */
  .glow-soft { box-shadow: 0 10px 30px rgba(79,70,229,0.08), 0 2px 10px rgba(0,0,0,0.04); }

  /* Hover scale + shadow utility */
  .hover-scale-shadow { transition: transform .25s ease, box-shadow .25s ease; }
  .hover-scale-shadow:hover { transform: translateY(-1px) scale(1.02); box-shadow: 0 10px 25px rgba(0,0,0,0.08); }

  /* Keyframes */
  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(8px); }
    to { opacity: 1; transform: translateY(0); }
  }

  @keyframes pulseSubtle {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.02); }
  }

  @keyframes typingPlaceholder {
    from { width: 0; }
    to { width: 100%; }
  }

  @keyframes blinkCursor {
    0%, 49% { opacity: 1; }
    50%, 100% { opacity: 0; }
  }

  @keyframes floatSlow {
    0% { transform: translateY(0) translateX(0); }
    50% { transform: translateY(-8px) translateX(4px); }
    100% { transform: translateY(0) translateX(0); }
  }

  @keyframes floatGentle {
    0% { transform: translateY(0); }
    50% { transform: translateY(-6px); }
    100% { transform: translateY(0); }
  }

  /* Animation utilities */
  .animate-fade-in { animation: fadeIn .7s ease forwards; }
  .animate-fade-in-delay-1 { animation: fadeIn .7s ease .15s forwards; }
  .animate-fade-in-delay-2 { animation: fadeIn .7s ease .3s forwards; }
  .animate-pulse-subtle { animation: pulseSubtle 2.4s ease-in-out infinite; }
  .animate-float-slow { animation: floatSlow 8s ease-in-out infinite; }
  .animate-float-gentle { animation: floatGentle 10s ease-in-out infinite; }

  /* Typing/caret helpers for inputs */
  .placeholder-typing {
    position: relative;
    overflow: hidden;
  }
  .placeholder-typing::placeholder { color: #9ca3af; }
  .caret-accent { caret-color: var(--color-accent); }
  .cursor-blink::after {
    content: '';
    display: inline-block;
    width: 1px;
    height: 1em;
    margin-left: 2px;
    background: currentColor;
    vertical-align: -2px;
    animation: blinkCursor 1s step-start infinite;
  }

  /* Focus-visible accessibility */
  .focus-visible-ring:focus-visible { outline: 3px solid rgba(79,70,229,0.5); outline-offset: 3px; border-radius: 10px; }

  /* Live badge */
  .badge-live { @apply inline-flex items-center gap-1 px-2 py-1 text-xs rounded-full bg-[rgba(79,70,229,0.08)] text-[color:var(--color-accent)] border border-[rgba(79,70,229,0.18)]; }
  .badge-dot { width: 6px; height: 6px; border-radius: 9999px; background: #22c55e; box-shadow: 0 0 0 0 rgba(34,197,94,0.6); animation: badgePulse 2s ease-out infinite; }
  @keyframes badgePulse { 0% { box-shadow: 0 0 0 0 rgba(34,197,94,0.5);} 70% { box-shadow: 0 0 0 8px rgba(34,197,94,0);} 100% { box-shadow: 0 0 0 0 rgba(34,197,94,0);} }
}